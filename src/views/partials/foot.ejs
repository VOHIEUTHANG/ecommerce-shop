<!-- LIBRARY -->
<script src="/js/library/swipper.min.js"></script>
<script src="/js/library/boostrap.min.js"></script>
<script src="/js/library/justValidate.min.js"></script>
<script src="/js/library/axios.min.js"></script>
<script src="/js/library/popper.min.js"></script>
<script src="/js/library/tippy.min.js"></script>
<script src="/js/library/toastr.min.js"></script>
<script src="/js/library/rangeslider.min.js"></script>
<!-- GLOBAL LOGIC -->
<script src="/js/global.js"></script>
<script type="module">
   import localstorage from '/js/localStorage.js';
   if (localstorage.getStore()) {
      const { refreshToken } = localstorage.getStore();
      const logoutBtn = $('.user-options__item.logout');
      logoutBtn.click(async () => {
         console.log('logout clicked !');
         const payload = { refreshToken };
         const { data, status } = await axios.delete('/api/user/logout', { data: payload });
         if (data.status === 'success' && status === 200) {
            localstorage.clearStore();
            window.location.href = '/';
         } else {
            const { status, message } = data;
            toastr[status](message);
         }
      });
   }
</script>
